{"version":"NotebookV1","origId":2139271331630144,"name":"DE 5.2.1L - Lab Instructions","language":"python","commands":[{"version":"CommandV1","origId":2139271331630160,"guid":"360c38a5-e196-40d4-8a33-4bcdb32680cc","subtype":"command","commandType":"auto","position":17.0,"command":"%md-sandbox\n&copy; 2023 Databricks, Inc. All rights reserved.<br/>\nApache, Apache Spark, Spark and the Spark logo are trademarks of the <a href=\"https://www.apache.org/\">Apache Software Foundation</a>.<br/>\n<br/>\n<a href=\"https://databricks.com/privacy-policy\">Privacy Policy</a> | <a href=\"https://databricks.com/terms-of-use\">Terms of Use</a> | <a href=\"https://help.databricks.com/\">Support</a>","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"8f37418b-1aeb-4f9b-a28c-dba33081b4d4"},{"version":"CommandV1","origId":2139271331630158,"guid":"dddd08eb-9102-4cca-835b-c7abbff005ac","subtype":"command","commandType":"auto","position":15.0,"command":"DA.validate_job_config()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"6fd242ff-7622-4cdf-ba8d-daf383fab591"},{"version":"CommandV1","origId":2139271331630145,"guid":"f1954234-aeb5-428e-9d70-cb76e2203199","subtype":"command","commandType":"auto","position":2.0,"command":"%md-sandbox\n\n<div style=\"text-align: center; line-height: 0; padding-top: 9px;\">\n  <img src=\"https://databricks.com/wp-content/uploads/2018/03/db-academy-rgb-1200px.png\" alt=\"Databricks Learning\" style=\"width: 600px\">\n</div>","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"f32cedfe-5416-4ca5-a044-9e31fa535998"},{"version":"CommandV1","origId":2139271331630155,"guid":"d834ea35-87fe-40f7-8af2-d355564725a1","subtype":"command","commandType":"auto","position":12.0,"command":"%md\n\n## Add a Pipeline Task\n\nSteps:\n1. On the Job details page, click the **Tasks** tab.\n1. Click the blue **+ Add task** button at the center bottom of the screen, and select **Delta Live Tables pipeline** in the dropdown menu.\n1. Configure the task:\n\n| Setting | Instructions |\n|--|--|\n| Task name | Enter **DLT** |\n| Type | Leave **Delta Live Tables pipeline** |\n| Pipeline | Choose the DLT pipeline configured above |\n| Depends on | Choose **Batch-Job**, which is the previous task we defined |\n\n<br>\n\n4. Click the blue **Create task** button\n    - You should now see a screen with 2 boxes and a downward arrow between them. \n    - Your **`Batch-Job`** task will be at the top, leading into your **`DLT`** task.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-8ab4bc2a-e08e-47ca-8507-9565342acfb6","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"882b978e-0478-4c48-a930-a66cc6387ce2"},{"version":"CommandV1","origId":2139271331630151,"guid":"36fec8b5-c31a-4745-9961-348bf97259c1","subtype":"command","commandType":"auto","position":8.0,"command":"DA.print_job_config()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"f6227bec-c249-4552-8281-154323419f36"},{"version":"CommandV1","origId":2139271331630149,"guid":"28698ab8-d4b1-4401-bb48-3bbab4cb0301","subtype":"command","commandType":"auto","position":6.0,"command":"DA.data_factory.load()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"6456332a-3f3d-456c-b23b-868ce7013551"},{"version":"CommandV1","origId":2139271331630154,"guid":"52e96cd7-a2f6-46e9-b7fb-112501059f30","subtype":"command","commandType":"auto","position":11.0,"command":"DA.create_pipeline()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"8a1cf54c-de43-49b8-a276-7cc7e6ff3218"},{"version":"CommandV1","origId":2139271331630157,"guid":"04039397-f99d-4261-84b3-4e0e28cdd83e","subtype":"command","commandType":"auto","position":14.0,"command":"# This function is provided for students who do not \n# want to work through the exercise of creating the job.\nDA.create_job()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"97d88c21-2d5d-4c3c-a57f-01f21f9e8ff6"},{"version":"CommandV1","origId":2139271331630146,"guid":"0b9413e7-565f-4dd9-a328-f821f21d5ce0","subtype":"command","commandType":"auto","position":3.0,"command":"%md\n\n\n# Lab: Orchestrating Jobs with Databricks\n\nIn this lab, you'll be configuring a multi-task job comprising of:\n* A notebook that lands a new batch of data in a storage directory\n* A Delta Live Table pipeline that processes this data through a series of tables\n* A notebook that queries the gold table produced by this pipeline as well as various metrics output by DLT\n\n## Learning Objectives\nBy the end of this lab, you should be able to:\n* Schedule a notebook as a task in a Databricks Job\n* Schedule a DLT pipeline as a task in a Databricks Job\n* Configure linear dependencies between tasks using the Databricks Workflows UI","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-7b85ffd8-b52c-4ea8-84db-b3668e13b402","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"dd4b01b6-1c62-4677-a3b1-e17a51298eaa"},{"version":"CommandV1","origId":2139271331630150,"guid":"4acef4ae-9c5f-43da-9ffc-0ccf2aaf90f8","subtype":"command","commandType":"auto","position":7.0,"command":"%md\n\n## Generate Job Configuration\n\nConfiguring this job will require parameters unique to a given user.\n\nRun the cell below to print out values you'll use to configure your pipeline in subsequent steps.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-cc5b4584-59c4-49c9-a6d2-efcdadb98dbe","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"509ca826-17d5-45ce-9bdd-1871cf9f23ca"},{"version":"CommandV1","origId":2139271331630147,"guid":"94421b18-899b-428c-9304-e03d14570c99","subtype":"command","commandType":"auto","position":4.0,"command":"%run ../Includes/Classroom-Setup-05.2.1L","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"b3d41ff5-4d8e-44f4-bd12-eb803faf4830"},{"version":"CommandV1","origId":2139271331630153,"guid":"8dde226b-cce1-4060-a278-38352439c94f","subtype":"command","commandType":"auto","position":10.0,"command":"%md\n## Generate Pipeline\n\nIn this step, we'll add a DLT pipeline to execute after the success of the task we configured above.\n\nTo focus on jobs and not pipelines, we are going to use the following utility command to create a simple pipeline for us.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-4678fc9d-ab2f-4f8c-b4be-a67774b2afd4","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"9aaef743-7d72-4880-b8d3-de6c89a52b3f"},{"version":"CommandV1","origId":2139271331630159,"guid":"899403f3-3e9a-4011-968e-6b645171bbc9","subtype":"command","commandType":"auto","position":16.0,"command":"# This function is provided to start the job and  \n# block until it has completed, canceled or failed\nDA.start_job()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"8d87d477-b61d-48aa-a88f-4e308ab0f788"},{"version":"CommandV1","origId":2139271331630152,"guid":"c6b83fd1-ff87-4682-b1ee-49c94cc83887","subtype":"command","commandType":"auto","position":9.0,"command":"%md\n\n## Configure Job with a Single Notebook Task\n\nLet's start by scheduling the first notebook.\n\nSteps:\n1. Click the **Workflows** button on the sidebar, click the **Jobs** tab, and click the **Create Job** button.\n2. Configure the job and task as specified below. You'll need the values provided in the cell output above for this step.\n\n| Setting | Instructions |\n|--|--|\n| Task name | Enter **Batch-Job** |\n| Type | Choose **Notebook** |\n| Source | Choose **Workspace** |\n| Path | Use the navigator to specify the **Batch Notebook Path** provided above |\n| Cluster | Select your cluster from the dropdown, under **Existing All Purpose Clusters** |\n| Job name | In the top-left of the screen, enter the **Job Name** provided above to add a name for the job (not the task) |\n\n<br>\n\n3. Click the **Create** button.\n4. Click the blue **Run now** button in the top right to start the job.\n\n<img src=\"https://files.training.databricks.com/images/icon_note_24.png\"> **Note**: When selecting your all-purpose cluster, you will get a warning about how this will be billed as all-purpose compute. Production jobs should always be scheduled against new job clusters appropriately sized for the workload, as this is billed at a much lower rate.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-542fd1c6-0322-4c8f-8719-fe980f2a8013","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"0d69804b-f844-4e80-a010-c9ad59004399"},{"version":"CommandV1","origId":2139271331630148,"guid":"13f4a71d-3cbf-4d9f-8e87-4f58182d23b7","subtype":"command","commandType":"auto","position":5.0,"command":"%md\n\n\n## Land Initial Data\nSeed the landing zone with some data before proceeding. \n\nYou will re-run this command to land additional data later.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-003b65fd-018a-43e5-8d1d-1ce2bee52fe3","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"e582d42e-4ff3-41b9-91e3-eb38f1a45ada"},{"version":"CommandV1","origId":2139271331630156,"guid":"91bdf2df-9a0d-4a83-ae51-41bc25cf9cb3","subtype":"command","commandType":"auto","position":13.0,"command":"%md\n\n\n## Add Another Notebook Task\n\nAn additional notebook has been provided which queries some of the DLT metrics and the gold table defined in the DLT pipeline. We'll add this as a final task in our job.\n\nSteps:\n1. On the Job details page, click the **Tasks** tab.\n1. Click the blue **+ Add task** button at the center bottom of the screen and select **Notebook** in the dropdown menu.\n1. Configure the task:\n\n| Setting | Instructions |\n|--|--|\n| Task name | Enter **Query-Results** |\n| Type | Choose **Notebook** |\n| Source | Choose **Workspace** |\n| Path | Use the navigator to specify the **Query Notebook Path** provided above |\n| Cluster | Select your cluster from the dropdown, under **Existing All Purpose Clusters** |\n| Depends on | Choose **DLT**, which is the previous task we defined |\n\n<br>\n\n4. Click the blue **Create task** button\n5. Click the blue **Run now** button in the top right to run this job.\n    - From the **Runs** tab, you will be able to click on the start time for this run under the **Active runs** section and visually track task progress.\n    - Once all your tasks have succeeded, review the contents of each task to confirm expected behavior.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-1cdf590a-6da0-409d-b4e1-bd5a829f3a66","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"bfee70d6-45d6-44b8-af7c-d264115be392"}],"dashboards":[],"guid":"27912fcd-2c9c-4e46-86e0-df6a6500149d","globalVars":{},"iPythonMetadata":null,"inputWidgets":{},"notebookMetadata":{},"reposExportFormat":"SOURCE"}