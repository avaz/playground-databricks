{"version":"NotebookV1","origId":2139271331630162,"name":"DE 5.2.1L - Lab Instructions","language":"python","commands":[{"version":"CommandV1","origId":2139271331630164,"guid":"b8794de4-5532-460b-861e-8f0af0c74d3b","subtype":"command","commandType":"auto","position":3.0,"command":"%md\n\n\n# Lab: Orchestrating Jobs with Databricks\n\nIn this lab, you'll be configuring a multi-task job comprising of:\n* A notebook that lands a new batch of data in a storage directory\n* A Delta Live Table pipeline that processes this data through a series of tables\n* A notebook that queries the gold table produced by this pipeline as well as various metrics output by DLT\n\n## Learning Objectives\nBy the end of this lab, you should be able to:\n* Schedule a notebook as a task in a Databricks Job\n* Schedule a DLT pipeline as a task in a Databricks Job\n* Configure linear dependencies between tasks using the Databricks Workflows UI","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-7b85ffd8-b52c-4ea8-84db-b3668e13b402","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"fa8fc094-f4de-42f4-9399-df18541e8330"},{"version":"CommandV1","origId":2139271331630177,"guid":"8effa5a9-4c14-409c-b04d-ece80adec5e4","subtype":"command","commandType":"auto","position":16.0,"command":"# This function is provided to start the job and  \n# block until it has completed, canceled or failed\nDA.start_job()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"9ecd4272-a1a5-481b-b5af-f395d0c4b845"},{"version":"CommandV1","origId":2139271331630172,"guid":"1fbf2dc1-b9a8-4be5-b89c-96b5ea7d7504","subtype":"command","commandType":"auto","position":11.0,"command":"DA.create_pipeline()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"dc175db1-3509-41a8-a472-0dd5c0205981"},{"version":"CommandV1","origId":2139271331630173,"guid":"4f3be12c-3ac6-409f-beb3-55fa02807629","subtype":"command","commandType":"auto","position":12.0,"command":"%md\n\n## Add a Pipeline Task\n\nSteps:\n1. On the Job details page, click the **Tasks** tab.\n1. Click the blue **+ Add task** button at the center bottom of the screen, and select **Delta Live Tables pipeline** in the dropdown menu.\n1. Configure the task:\n\n| Setting | Instructions |\n|--|--|\n| Task name | Enter **DLT** |\n| Type | Leave **Delta Live Tables pipeline** |\n| Pipeline | Choose the DLT pipeline configured above |\n| Depends on | Choose **Batch-Job**, which is the previous task we defined |\n\n<br>\n\n4. Click the blue **Create task** button\n    - You should now see a screen with 2 boxes and a downward arrow between them. \n    - Your **`Batch-Job`** task will be at the top, leading into your **`DLT`** task.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-8ab4bc2a-e08e-47ca-8507-9565342acfb6","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"a9ce2e45-ed36-4309-8c8d-6207f4ff53d4"},{"version":"CommandV1","origId":2139271331630178,"guid":"9df4297f-0d47-40e7-8ae0-9d4279942a7b","subtype":"command","commandType":"auto","position":17.0,"command":"%md-sandbox\n&copy; 2023 Databricks, Inc. All rights reserved.<br/>\nApache, Apache Spark, Spark and the Spark logo are trademarks of the <a href=\"https://www.apache.org/\">Apache Software Foundation</a>.<br/>\n<br/>\n<a href=\"https://databricks.com/privacy-policy\">Privacy Policy</a> | <a href=\"https://databricks.com/terms-of-use\">Terms of Use</a> | <a href=\"https://help.databricks.com/\">Support</a>","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"48fbfebf-60a7-41d8-9445-b18ac9feb6c6"},{"version":"CommandV1","origId":2139271331630171,"guid":"24aeaab7-f4e9-41b7-b306-b8bf547edc84","subtype":"command","commandType":"auto","position":10.0,"command":"%md\n## Generate Pipeline\n\nIn this step, we'll add a DLT pipeline to execute after the success of the task we configured above.\n\nTo focus on jobs and not pipelines, we are going to use the following utility command to create a simple pipeline for us.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-4678fc9d-ab2f-4f8c-b4be-a67774b2afd4","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"2a7e6749-0cdd-4bd0-8a5e-cabc142231ca"},{"version":"CommandV1","origId":2139271331630170,"guid":"964852cb-2de5-48e6-8d45-d5c13c9917ff","subtype":"command","commandType":"auto","position":9.0,"command":"%md\n\n## Configure Job with a Single Notebook Task\n\nLet's start by scheduling the first notebook.\n\nSteps:\n1. Click the **Workflows** button on the sidebar, click the **Jobs** tab, and click the **Create Job** button.\n2. Configure the job and task as specified below. You'll need the values provided in the cell output above for this step.\n\n| Setting | Instructions |\n|--|--|\n| Task name | Enter **Batch-Job** |\n| Type | Choose **Notebook** |\n| Source | Choose **Workspace** |\n| Path | Use the navigator to specify the **Batch Notebook Path** provided above |\n| Cluster | Select your cluster from the dropdown, under **Existing All Purpose Clusters** |\n| Job name | In the top-left of the screen, enter the **Job Name** provided above to add a name for the job (not the task) |\n\n<br>\n\n3. Click the **Create** button.\n4. Click the blue **Run now** button in the top right to start the job.\n\n<img src=\"https://files.training.databricks.com/images/icon_note_24.png\"> **Note**: When selecting your all-purpose cluster, you will get a warning about how this will be billed as all-purpose compute. Production jobs should always be scheduled against new job clusters appropriately sized for the workload, as this is billed at a much lower rate.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-542fd1c6-0322-4c8f-8719-fe980f2a8013","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"a59a8f7e-018e-4bdb-963b-23f3f134b7bb"},{"version":"CommandV1","origId":2139271331630165,"guid":"2e7d728d-fe39-48a6-bff1-7bbc702588fc","subtype":"command","commandType":"auto","position":4.0,"command":"%run ../Includes/Classroom-Setup-05.2.1L","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"5fa92296-4b5b-46f4-a77e-767a97cd1087"},{"version":"CommandV1","origId":2139271331630166,"guid":"13618d9c-c4e1-4272-a013-d2ed3c2071bc","subtype":"command","commandType":"auto","position":5.0,"command":"%md\n\n\n## Land Initial Data\nSeed the landing zone with some data before proceeding. \n\nYou will re-run this command to land additional data later.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-003b65fd-018a-43e5-8d1d-1ce2bee52fe3","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"ad3ccf0c-9ccd-4744-9f16-7eca0286c88c"},{"version":"CommandV1","origId":2139271331630175,"guid":"0cfdcbf5-9066-4bf0-bbaf-78fa473ab426","subtype":"command","commandType":"auto","position":14.0,"command":"# This function is provided for students who do not \n# want to work through the exercise of creating the job.\nDA.create_job()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"93e9acbb-260c-4da2-940d-ba33c56eb40a"},{"version":"CommandV1","origId":2139271331630169,"guid":"a7c420bd-13b3-4bcd-a95d-7bebe4864c21","subtype":"command","commandType":"auto","position":8.0,"command":"DA.print_job_config()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"18e647c6-411e-4bfb-9176-42136e8dfecd"},{"version":"CommandV1","origId":2139271331630163,"guid":"1c31857d-3e32-4c0a-9b66-3b4fd2e01d5a","subtype":"command","commandType":"auto","position":2.0,"command":"%md-sandbox\n\n<div style=\"text-align: center; line-height: 0; padding-top: 9px;\">\n  <img src=\"https://databricks.com/wp-content/uploads/2018/03/db-academy-rgb-1200px.png\" alt=\"Databricks Learning\" style=\"width: 600px\">\n</div>","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"94078f7d-9b0d-4fa1-bb6c-998a92bbda92"},{"version":"CommandV1","origId":2139271331630176,"guid":"5ae60c53-078c-46bc-8b74-765b77e2a68d","subtype":"command","commandType":"auto","position":15.0,"command":"DA.validate_job_config()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"a1b0d48a-a4b5-436b-be2a-a0b2e986eae1"},{"version":"CommandV1","origId":2139271331630167,"guid":"44f2c0b7-71fd-4089-b768-cf543012e424","subtype":"command","commandType":"auto","position":6.0,"command":"DA.data_factory.load()","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"6b0dff04-2dd0-4d8a-8eb5-3191de8f3e30"},{"version":"CommandV1","origId":2139271331630168,"guid":"d8ed979b-1ed0-412a-969b-b4a931882378","subtype":"command","commandType":"auto","position":7.0,"command":"%md\n\n## Generate Job Configuration\n\nConfiguring this job will require parameters unique to a given user.\n\nRun the cell below to print out values you'll use to configure your pipeline in subsequent steps.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-cc5b4584-59c4-49c9-a6d2-efcdadb98dbe","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"f12598fb-1a9e-40b2-a334-dcaf4b99f87a"},{"version":"CommandV1","origId":2139271331630174,"guid":"e6fa0f59-53ab-47c9-858b-098bfa4c050d","subtype":"command","commandType":"auto","position":13.0,"command":"%md\n\n\n## Add Another Notebook Task\n\nAn additional notebook has been provided which queries some of the DLT metrics and the gold table defined in the DLT pipeline. We'll add this as a final task in our job.\n\nSteps:\n1. On the Job details page, click the **Tasks** tab.\n1. Click the blue **+ Add task** button at the center bottom of the screen and select **Notebook** in the dropdown menu.\n1. Configure the task:\n\n| Setting | Instructions |\n|--|--|\n| Task name | Enter **Query-Results** |\n| Type | Choose **Notebook** |\n| Source | Choose **Workspace** |\n| Path | Use the navigator to specify the **Query Notebook Path** provided above |\n| Cluster | Select your cluster from the dropdown, under **Existing All Purpose Clusters** |\n| Depends on | Choose **DLT**, which is the previous task we defined |\n\n<br>\n\n4. Click the blue **Create task** button\n5. Click the blue **Run now** button in the top right to run this job.\n    - From the **Runs** tab, you will be able to click on the start time for this run under the **Active runs** section and visually track task progress.\n    - Once all your tasks have succeeded, review the contents of each task to confirm expected behavior.","commandVersion":1,"state":"finished","results":null,"resultDbfsStatus":"INLINED_IN_TREE","resultDbfsErrorMessage":null,"errorSummary":null,"errorTraceType":null,"error":null,"errorDetails":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","latestUserId":null,"commandTitle":"--i18n-1cdf590a-6da0-409d-b4e1-bd5a829f3a66","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"metadata":{},"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"tableResultIndex":null,"listResultMetadata":[],"subcommandOptions":null,"contentSha256Hex":null,"nuid":"8fbbc1a3-7cfe-4310-9dd1-54e68b47f406"}],"dashboards":[],"guid":"b6d30ae5-fba3-472d-90f5-d584a141abb5","globalVars":{},"iPythonMetadata":null,"inputWidgets":{},"notebookMetadata":{},"reposExportFormat":"SOURCE"}